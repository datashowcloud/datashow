<html>
<head>
    <meta charset="utf-8" />
    <title>cookie</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <script src="scripts/cookies.js"></script>
	<style></style>
</head>

 <body id="body">
	<button onclick="showCookies()">Show cookies</button>
	<button onclick="clearOutputCookies()">Clear</button>

	<div>
	  <code id="cookies"></code>
	</div>

<script>
window.onload = function(){
	document.cookie = "name=oeschger; SameSite=None; Secure";

	// Setting a cookie value
	Cookies.set('Cookies.set', 'valuetest');
	// Get the cookie value
	Cookies.get('key'); // "value"
	console.log('Cookies.get=' + Cookies.get('key') + ';');
	
	if (areCookiesEnabled()) {
	  console.log("Cookies are enabled!");
	} else {
	  console.log("Cookies are not enabled!");
	}
	
	localStorage.setItem('valueComplete', 'true');
	alert("valueComplete=" + localStorage.getItem('valueComplete'));
}

function showCookies() {
  const output = document.getElementById('cookies')
  output.textContent = '> ' + document.cookie
}

function clearOutputCookies() {
  const output = document.getElementById('cookies')
  output.textContent = ''
}
</script>

<script>
function setCookie(cname, cvalue, exdays) {
  const d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  let expires = "expires="+ d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}
function getCookie(cname) {
  let name = cname + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for(let i = 0; i <ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}
</script>

<script>
function cookieEnabled() {
	let cookies = navigator.cookieEnabled;
	console.log("Cookies enabled: " + cookies);
}

function areCookiesEnabled() {
  // Quick test if browser has cookieEnabled host property
  if (navigator.cookieEnabled) {
    return true;
  }
  // Create cookie
  document.cookie = "cookietest=1";
  var ret = document.cookie.indexOf("cookietest=") !== -1;
  // Delete cookie
  document.cookie = "cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT";
  return ret;
}

</script>

 </body>
</html>
